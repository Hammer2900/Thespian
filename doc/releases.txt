		━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
		 [HTTP://THESPIANPY.COM/] RELEASE NOTES


		    Kevin Quick <kquick@godaddy.com>
		━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━


Table of Contents
─────────────────

2.x
.. 2.5
..... 2.5.1 <2015-12-16 Wed>
..... 2.5.0 <2015-12-16 Wed>
.. 2.4
..... 2.4.4 <2015-12-16 Wed>
..... 2.4.3 <2015-11-18 Wed>
..... 2.4.2 <2015-10-26 Mon>
..... 2.4.1 <2015-10-20 Mon>
..... 2.4.0 <2015-10-18 Sun>
.. 2.3
..... 2.3.0 <2015-10-04 Sun>
.. 2.2
..... 2.2.0 <2015-09-27 Sun>
.. 2.1
..... 2.1.6 <2015-09-27 Sun>
..... 2.1.5 <2015-09-20 Sun>
..... 2.1.4 Initial Public Release <2015-08-31 Mon>
.. 2.0
1.x


.


2.x
═══

2.5
───

2.5.1 <2015-12-16 Wed>
╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌

  ‣ Fixed sourceload path handling: zipfiles use posix paths only, but
    running loaded sources on Windows with previous versions attempted
    to use Windows path specifications.

  ‣ Increased level of logging from sourceload failures to ERROR from
    INFO.


2.5.0 <2015-12-16 Wed>
╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌

  ‣ Allow value specification with the `@requireCapability' decorator.

  ‣ Add the `preRegisterRemoteSystem' and `deRegisterRemoteSystem' Actor
    API methods.  These assist in identifying remote Actor Systems that
    might not normally have connectivity.  These are most useful with
    the 'Outbound Only' capability (see below).

  ‣ Updated the TCP system base to persist and re-use open socket
    connections; previous versions would always close the socket after
    sending or recieving a single message.  This change can increase
    network efficiency and reduce latency.  This change is backward
    compatible with previous Thespian 2.x versions and will devolve into
    the older disconnecting-mode of operation.

  ‣ Added ~"Admin Routing": True~ capability specification (TCP system
    base only).  The presence of this capability indicates that all
    traffic routed to any Actor on that Actor System must be forwarded
    via the Admin on that Actor System (Thespian handles the forwarding
    automatically when this capability is set).  This configuration is
    useful when two Actor Systems are separated by firewalls that only
    allow a limited set of ports to communicate through the firewall;
    setting the Admin port to one of the firewall-allowed ports and
    setting the "Admin Routing" capability will route all traffic via
    the Admin (at a small performance penalty).  Enabling this setting
    is /not/ backward compatible with previous Thespian 2.x versions.
    This setting should be considered /Beta/ functionality at this time.

  ‣ Added ~"Outbound Only": True~ capability specification (TCP system
    base only).  The presence of this capability indicates that the
    current system cannot accept incoming connections.  This setting
    implies ~"Admin Routing": True~ for this same system.  This setting
    causes all Actor traffic to be routed through the Admin, and the
    Admin will open and leave open persistent connections to all remote
    Admins.  This setting is useful where a firewall or VPN
    configuration will only allow outbound connections, but it incurs
    additional performance penalties and potential delays while an
    outbound connection is being re-established.  Enabling this setting
    is /not/ backward compatible with previous Thespian 2.x versions.
    This setting should be considered /Beta/ functionality at this time.

  ‣ The "Thespian ActorSystem Version" for the TCP system base has been
    updated to "2" from "1" to indicate the above changes.

  ‣ All systems that have attempted to create an Actor will be
    remembered to avoid infinited creation loops.

  ‣ Logging updates and enhancements.

  ‣ Enhance shutdown by ensuring the exiting status is set before
    shutting down children to handle their responses appropriately and
    avoid race conditions.

  ‣ Show statistics values before labels in the status output for better
    readability.

  ‣ Design document updates.

  ‣ The simple system base now properly implements the `wakeupAfter()'
    delays.  It will not hang if only wakeups are pending, but it will
    deliver them after at least the appropriate delay and relative to
    `tell()', `ask()' and `listen()' timeouts.

  ‣ All `loadActorSource()' calls are ignored if there is no registered
    Source Authority.  This changes the disposition of an Actor System
    to secure/protected by default.


2.4
───

2.4.4 <2015-12-16 Wed>
╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌

  ‣ Removed TCP connect timeout that overrode non-blocking mode.

  ‣ Fixed TCP address equality comparison when zero port specification
    compared.  A port of zero matches any other port if the address
    portion is the same; previously this only worked for comparing to
    known local addresses, not arbitrary addresses when the port was 0.

  ‣ Fixed error text when using `tell()' with a bad Actor Address
    (previously identified the wrong call).

  ‣ Ensure Actor System `createActor()' calls are not aborted
    prematurely by leftover responses to previous operations
    (e.g. timeout-unclaimed `ask()' responses).


2.4.3 <2015-11-18 Wed>
╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌

  ‣ Ensured that PoisonMessage sending doesn't recurse indefinitely.

  ‣ Added a missing newline in status output formatting.

  ‣ Added a descriptive failure output messaging for IP-based address
    connection failures.  This helps with common mistakes, such as
    specifying the "Admin Port" as a string instead of an integer.

  ‣ Fixed a bug where calling `ActorSystem().shutdown()' multiple times
    would throw an exception.

  ‣ Fixed a bug on multi-level import references (e.g. `import x.y.z')
    in sources loaded by `loadActorSource()' operations.

  ‣ Fixed a bug where old actors checking in with a restarted
    ActorSystem caused exceptions.

  ‣ Fixed a TCP transport bug that caused transmits to be abandoned
    instead of being retried after the back-off timer expired.

  ‣ Updated default thespian.log logfile creation to honor `$TMPDIR' if
    it is set and only default to directing logging to `/tmp' if it is
    not set.

  ‣ Added internal `wait()' call for logger child process on shutdown to
    avoid defunct loggers.

  ‣ Removed a debug printf in the simpleSystemBase.


2.4.2 <2015-10-26 Mon>
╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌

  ‣ Delay thesplog location determination until usage to allow startup
    code to adjust location.

  ‣ Better daemonization of multiproc Admin on Unix.

  ‣ Ensure filenums to close is passed as a list not a Python3 iterator
    when creating multiproc children (bugfix).


2.4.1 <2015-10-20 Mon>
╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌

  ‣ Updated to allow packets not blocked on waiting for an address
    resolution to be sent even if previous packets are still waiting for
    that resolution.

  ‣ Fixed documentation uploads.


2.4.0 <2015-10-18 Sun>
╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌

  ‣ Add loadActorSource() and unloadActorSource() to Actor API
    (duplicating existing Actor System API functionality).

  ‣ Internal: use distributed importlib whenever possible.

  ‣ Fix stats response for Actor Systems for Python3.

  ‣ Allow optional error strings in reporting actor creation failures.

  ‣ Better capture and reporting of loaded source instantiation errors.

  ‣ Miscellaneous test and logging updates.


2.3
───

2.3.0 <2015-10-04 Sun>
╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌

  ‣ Added ActorTypeDispatcher enhanced base class to facilitate
    dispatching of received messages based on message type.

  ‣ Ensure exceptions occuring while writing to Thespian file log do not
    cause failures.

  ‣ Protect against exceptions occurring when comparing messages for
    equality.

  ‣ Updates to testActorSystemRestart.

  ‣ Update "Thespian Generation" common Capabilities to version (2,3).
    Previous 2.2.0 release erroneously did not update this value.


2.2
───

2.2.0 <2015-09-27 Sun>
╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌

  ‣ Fix internal links in Using Thespian document.

  ‣ Add support for multiple convention notification registrations.

  ‣ Allow ActorSystem logDefs to be specified as False to suppress any
    logging configuration; especially useful for test log capture modes.

  ‣ Better ActorSystem startup processing to distinguish between a
    re-specification of the current base and a new base, and added the
    transientUnique startup argument to get a plain instance (a
    non-global-singleton instance).

  ‣ Added missing description of the ActorSystem `shutdown()' operation
        in the Using Thespian document.

  ‣ Added ability to set the maximum thesplog logging file via the
    `THESPLOG_FILE_MAXSIZE' environment variable and changed the default
    to 50KB.

  ‣ Added Using Thespian documentation description of logging with the
    `THESPLOG_FILE' and `THESPLOG_FILE_MAXSIZE' environment variable
    controls.


2.1
───

2.1.6 <2015-09-27 Sun>
╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌

  ‣ Fix imports in tests and actors.py for multiple Python versions.

  ‣ Add missing timeout to test to prevent hang.


2.1.5 <2015-09-20 Sun>
╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌

  ‣ Adds support for Python 3.3 and Python 3.4 versions, including the
    use of the PyPy interpreter.

  ‣ Adds the `listen()' API call (`ask()' is `tell()' + `listen()')

  ‣ Log Actor exception through normal logging channels as well as via
    Thespian internal logging output.

  ‣ The Thespian shell loads the TestActor via loadable sources.

  ‣ The simpleSystemBase will always apply default logging.

  ‣ The `loadActorSource()' call can now take a file-like object as well
    as a filename.

  ‣ Added the Thespian Developer's document.

  ‣ Added the Thespian In-Depth Introduction document.

  ‣ Added the Thespian Index (main pages) document.

  ‣ Added the Thespian Releases document.

  ‣ Internal updates to more gracefully handle shutdown scenarios and
    avoid impossible retransmits.

  ‣ Testing, documentation, and setup file updates.


2.1.4 Initial Public Release <2015-08-31 Mon>
╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌╌

  The 2.1.4 Release represents the first publicly available release of
  Thespian.  It includes the following features:

  ‣ System Bases: SimpleSystemBase, MultiprocTCPBase, MultiprocUDPBase,
    MultiprocQueueBase
  ‣ Support for Loadable Sources


2.0
───

  The 2.0 Release was developed and used internally by GoDaddy.


1.x
═══

  The 1.x Release series was developed and used internally by GoDaddy
